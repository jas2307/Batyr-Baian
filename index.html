<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞—Ç—ã—Ä –ë–∞—è–Ω - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤—Ç—ñ –°—Ç—É–¥–∏—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Russo+One&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --dark-bg: #1a1a2e; /* Slightly lighter than pure black */
            --panel-bg: rgba(30, 30, 50, 0.95);
            --gold: #FFD700;
        }
        
        body {
            background-color: var(--dark-bg);
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
            color: #e0e0e0;
            font-family: 'Roboto Condensed', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .tab-btn, .studio-header {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
        }

        /* Hologram Effects */
        .hologram-box {
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.3), inset 0 0 20px rgba(0, 243, 255, 0.1);
            background: var(--panel-bg);
            backdrop-filter: blur(5px);
            position: relative;
        }

        .hologram-box::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(180deg, rgba(0,243,255,0) 0%, rgba(0,243,255,0.05) 50%, rgba(0,243,255,0) 100%);
            background-size: 100% 4px;
            animation: scanline 6s linear infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .hologram-text {
            color: var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue);
        }

        .neon-accent {
            color: var(--neon-purple);
            text-shadow: 0 0 5px var(--neon-purple);
        }

        /* Tabs */
        .tab-btn {
            background: transparent;
            border: 1px solid #444;
            color: #888;
            transition: all 0.3s ease;
            clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%);
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
        }

        .tab-btn.active {
            background: rgba(0, 243, 255, 0.1);
            border-color: var(--neon-blue);
            color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.4);
        }

        /* Inputs & Textareas */
        input, textarea, .editable-cell {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #555;
            color: #fff;
            font-family: 'Roboto Condensed', sans-serif;
        }
        input:focus, textarea:focus, .editable-cell:focus {
            border-color: var(--neon-purple);
            outline: none;
            box-shadow: 0 0 8px rgba(188, 19, 254, 0.5);
        }

        /* Table */
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
        }
        th {
            background: rgba(0, 243, 255, 0.1);
            color: var(--neon-blue);
        }

        /* Ticker */
        .ticker-wrap {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: #16213e; /* Dark Blue instead of Black */
            border-top: 2px solid var(--neon-purple);
            height: 40px;
            overflow: hidden;
            z-index: 100;
            display: flex;
            align-items: center;
        }
        .ticker {
            display: inline-block;
            white-space: nowrap;
            padding-right: 100%;
            animation: ticker 35s linear infinite;
            color: var(--gold); /* Gold color */
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            text-shadow: 0 0 2px rgba(255, 215, 0, 0.5);
        }
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* Quiz Styles */
        .question-card {
            display: none;
            animation: fadeIn 0.5s;
        }
        .question-card.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .correct-answer { border: 2px solid #00ff00 !important; background: rgba(0, 255, 0, 0.1) !important; }
        .incorrect-answer { border: 2px solid #ff0000 !important; background: rgba(255, 0, 0, 0.1) !important; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a1a2e; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); border-radius: 4px; }

        /* Order List */
        .order-item {
            cursor: grab;
            background: rgba(255,255,255,0.05);
            margin-bottom: 5px;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .order-item:active {
            cursor: grabbing;
        }
        .order-btn {
            background: var(--neon-blue);
            color: #000;
            padding: 2px 8px;
            margin-left: 5px;
            border-radius: 3px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col pb-16">

    <!-- Header -->
    <header class="p-4 border-b border-gray-700 bg-[#16213e] flex justify-between items-center sticky top-0 z-50">
        <div class="flex items-center gap-4">
            <div class="w-4 h-4 rounded-full bg-red-600 animate-pulse shadow-[0_0_10px_red]"></div>
            <h1 class="text-2xl md:text-3xl text-white tracking-widest studio-header">
                <span class="hologram-text">M.–ñ“∞–ú–ê–ë–ê–ï–í</span> <span class="text-gray-500 mx-2">|</span> <span class="neon-accent">–ë–ê–¢–´–† –ë–ê–Ø–ù</span>
            </h1>
        </div>
        <div class="text-xs md:text-sm text-gray-400 font-mono">
            –≠–§–ò–†: –¢–Ü–ö–ï–õ–ï–ô <br>
            <span id="clock">00:00:00</span>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="flex justify-center gap-4 p-6 container mx-auto">
        <button onclick="playClick(); switchTab('ted')" onmouseenter="playHover()" id="btn-ted" class="tab-btn active px-6 py-3 text-lg font-bold w-1/3">
            TED –ê–õ–ê“¢–´
        </button>
        <button onclick="playClick(); switchTab('concept')" onmouseenter="playHover()" id="btn-concept" class="tab-btn px-6 py-3 text-lg font-bold w-1/3">
            –ö–û–ù–¶–ï–ü–¢–£–ê–õ–î–´“ö –ö–ï–°–¢–ï
        </button>
        <button onclick="playClick(); switchTab('test')" onmouseenter="playHover()" id="btn-test" class="tab-btn px-6 py-3 text-lg font-bold w-1/3">
            –ü–û–≠–ú–ê –ú–ê–ó–ú“∞–ù–´ –ë–û–ô–´–ù–®–ê –¢–ï–°–¢
        </button>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 flex-grow relative z-10">
        
        <!-- TAB 1: TED Talks -->
        <div id="tab-ted" class="section-content">
            <div class="hologram-box p-8 rounded-lg mb-8 text-center">
                <h2 class="text-3xl mb-4 hologram-text">TED TALKS: –ê–®–´“ö –ú–Ü–ù–ë–ï</h2>
                <p class="text-gray-300 mb-6">–ë“±–ª –±”©–ª—ñ–º–¥–µ ”ô—Ä –æ“õ—É—à—ã ”©–∑ –æ–π—ã–Ω –µ—Ä–∫—ñ–Ω –∂–µ—Ç–∫—ñ–∑—É—ñ —Ç–∏—ñ—Å. ¬´–ú–∏–∫—Ä–æ—Ñ–æ–Ω–¥—ã¬ª –∞–ª—ã–ø, —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä—ñ“£—ñ–∑.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Question 1 -->
                    <div class="bg-[#1e1e32] border border-gray-600 p-6 rounded hover:border-cyan-400 transition duration-300 group" onmouseenter="playHover()">
                        <div class="text-4xl mb-4 opacity-50 group-hover:opacity-100 group-hover:text-cyan-400">üé§</div>
                        <h3 class="text-xl font-bold mb-3 text-white">–ú–∞—Ö–∞–±–±–∞—Ç –ø–µ–Ω –û—Ç–∞–Ω</h3>
                        <p class="text-gray-400">¬´–ù–æ—è–Ω–Ω—ã“£ –∂–∞—É “õ—ã–∑—ã–Ω–∞ “ì–∞—à—ã“õ –±–æ–ª—ã–ø, –µ–ª—ñ–Ω–µ–Ω –±–µ–∑—É—ñ–Ω —Å–∞—Ç“õ—ã–Ω–¥—ã“õ –¥–µ–ø –±–∞“ì–∞–ª–∞–π—Å—ã–∑ –±–∞, ”ô–ª–¥–µ –º–∞—Ö–∞–±–±–∞—Ç “õ“±—Ä–±–∞–Ω—ã –¥–µ–ø –∞“õ—Ç–∞–π—Å—ã–∑ –±–∞? –ù–µ–≥–µ?¬ª</p>
                    </div>
                    <!-- Question 2 -->
                    <div class="bg-[#1e1e32] border border-gray-600 p-6 rounded hover:border-purple-500 transition duration-300 group" onmouseenter="playHover()">
                        <div class="text-4xl mb-4 opacity-50 group-hover:opacity-100 group-hover:text-purple-500">üé§</div>
                        <h3 class="text-xl font-bold mb-3 text-white">–ë–∞—è–Ω–Ω—ã“£ —à–µ—à—ñ–º—ñ</h3>
                        <p class="text-gray-400">¬´–ë–∞—è–Ω–Ω—ã“£ ”©–∑ —ñ–Ω—ñ—Å—ñ–Ω –∞—Ç—ã–ø ”©–ª—Ç—ñ—Ä—É—ñ ‚Äì –µ—Ä–ª—ñ–∫ –ø–µ, ”ô–ª–¥–µ “õ–∞—Ç—ã–≥–µ–∑–¥—ñ–∫ –ø–µ? –ë–∞—Å“õ–∞ –∂–æ–ª –±–∞—Ä –º–∞ –µ–¥—ñ?¬ª</p>
                    </div>
                    <!-- Question 3 -->
                    <div class="bg-[#1e1e32] border border-gray-600 p-6 rounded hover:border-cyan-400 transition duration-300 group" onmouseenter="playHover()">
                        <div class="text-4xl mb-4 opacity-50 group-hover:opacity-100 group-hover:text-cyan-400">üé§</div>
                        <h3 class="text-xl font-bold mb-3 text-white">–¢–∞“ì–¥—ã—Ä –∂”ô–Ω–µ –¢–∞“£–¥–∞—É</h3>
                        <p class="text-gray-400">¬´–ê“õ—ã–Ω "–¢“Ø–π—ñ–Ω–Ω—ñ“£ —Ç–æ“õ—Å–∞–Ω —Ç“Ø—Ä–ª—ñ —à–µ—à—É—ñ –±–∞—Ä" –¥–µ–π–¥—ñ. –û—Å—ã –æ“õ–∏“ì–∞–¥–∞ –∫–µ–π—ñ–ø–∫–µ—Ä–ª–µ—Ä —Ç–∞“ì–¥—ã—Ä–¥—ã“£ –∂–∞–∑“ì–∞–Ω—ã–Ω–∞ –∫”©–Ω–¥—ñ –º–µ, ”ô–ª–¥–µ ”©–∑ —Ç–∞“£–¥–∞—É–ª–∞—Ä—ã–Ω –∂–∞—Å–∞–¥—ã –º–∞?¬ª</p>
                    </div>
                    <!-- Question 4 -->
                    <div class="bg-[#1e1e32] border border-gray-600 p-6 rounded hover:border-purple-500 transition duration-300 group" onmouseenter="playHover()">
                        <div class="text-4xl mb-4 opacity-50 group-hover:opacity-100 group-hover:text-purple-500">üé§</div>
                        <h3 class="text-xl font-bold mb-3 text-white">–ê–±—ã–ª–∞–π –±–µ–π–Ω–µ—Å—ñ</h3>
                        <p class="text-gray-400">¬´–ü–æ—ç–º–∞–¥–∞“ì—ã –ê–±—ã–ª–∞–π —Ö–∞–Ω–Ω—ã“£ “±—Å—Ç–∞–º–¥—ã–ª—ã“ì—ã –º–µ–Ω –¥–∞–Ω–∞–ª—ã“ì—ã “õ–∞–∑—ñ—Ä–≥—ñ –∫”©—à–±–∞—Å—à—ã–ª–∞—Ä“ì–∞ “Ø–ª–≥—ñ –±–æ–ª–∞ –∞–ª–∞ –º–∞? –î”ô–ª–µ–ª –∫–µ–ª—Ç—ñ—Ä—ñ“£—ñ–∑.¬ª</p>
                    </div>
                    <!-- Question 5 -->
                    <div class="bg-[#1e1e32] border border-gray-600 p-6 rounded hover:border-cyan-400 transition duration-300 group" onmouseenter="playHover()">
                        <div class="text-4xl mb-4 opacity-50 group-hover:opacity-100 group-hover:text-cyan-400">üé§</div>
                        <h3 class="text-xl font-bold mb-3 text-white">“ö–∞–∑—ñ—Ä–≥—ñ –∑–∞–º–∞–Ω</h3>
                        <p class="text-gray-400">¬´"–ï—Ä–ª–µ—Ä–¥—ñ “±–º—ã—Ç—Å–∞ –¥–∞ –µ–ª, –∂–µ—Ä “±–º—ã—Ç–ø–∞—Å" –¥–µ–≥–µ–Ω —Ç“Ø–π—ñ–Ω –±“Ø–≥—ñ–Ω–≥—ñ –∂–∞—Å—Ç–∞—Ä “Ø—à—ñ–Ω “õ–∞–Ω—à–∞–ª—ã“õ—Ç—ã ”©–∑–µ–∫—Ç—ñ? –ë—ñ–∑ –±–∞—Ç—ã—Ä–ª–∞—Ä–¥—ã “õ–∞–ª–∞–π “±–ª—ã“õ—Ç–∞–ø –∂“Ø—Ä–º—ñ–∑?¬ª</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: Conceptual Table -->
        <div id="tab-concept" class="section-content hidden">
            <div class="hologram-box p-6 rounded-lg">
                <h2 class="text-2xl mb-6 hologram-text border-b border-gray-700 pb-2">–ê–ù–ê–õ–ò–¢–ò–ö–ê–õ–´“ö –î–ï–†–ï–ö–¢–ï–† –ë–ê–ó–ê–°–´</h2>
                <p class="mb-4 text-sm text-gray-400">–¢”©–º–µ–Ω–¥–µ–≥—ñ –∫–µ—Å—Ç–µ–Ω—ñ —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑. –¢–æ—Ä–∫”©–∑–¥–µ—Ä–¥—ñ –±–∞—Å—ã–ø, ”©–∑ –∂–∞—É–∞–±—ã“£—ã–∑–¥—ã –∂–∞–∑—ã“£—ã–∑.</p>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr>
                                <th class="w-1/6">–ö–µ–π—ñ–ø–∫–µ—Ä / –û–±—Ä–∞–∑</th>
                                <th class="w-1/4">–ú—ñ–Ω–µ–∑–¥–µ–º–µ / –Ü—Å-”ô—Ä–µ–∫–µ—Ç—ñ</th>
                                <th class="w-1/4">“ö–æ–ª–¥–∞–Ω—ã–ª“ì–∞–Ω –∫”©—Ä–∫–µ–º–¥–µ–≥—ñ—à “õ“±—Ä–∞–ª–¥–∞—Ä (—Ç–µ“£–µ—É, —ç–ø–∏—Ç–µ—Ç)</th>
                                <th class="w-1/3">–ú–µ–Ω—ñ“£ –±–∞“ì–∞–º (–û–π-–ø—ñ–∫—ñ—Ä)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="font-bold text-cyan-400">–ë–∞—Ç—ã—Ä –ë–∞—è–Ω</td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                            </tr>
                            <tr>
                                <td class="font-bold text-cyan-400">–ù–æ—è–Ω</td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                            </tr>
                            <tr>
                                <td class="font-bold text-cyan-400">“ö–∞–ª–º–∞“õ “õ—ã–∑—ã</td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                            </tr>
                            <tr>
                                <td class="font-bold text-cyan-400">–ê–±—ã–ª–∞–π –•–∞–Ω</td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                            </tr>
                            <tr>
                                <td class="font-bold text-cyan-400">–°–∞—Ä—ã–∞—Ä“õ–∞ (–¢–∞–±–∏“ì–∞—Ç)</td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                                <td contenteditable="true" class="editable-cell"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 text-right">
                    <button class="bg-gray-800 border border-cyan-400 text-cyan-400 px-4 py-2 hover:bg-cyan-900 transition" onclick="playClick(); alert('–î–µ—Ä–µ–∫—Ç–µ—Ä –∂–∞–¥—ã–¥–∞ —Å–∞“õ—Ç–∞–ª–¥—ã!')">–°–ê“ö–¢–ê–£</button>
                </div>
            </div>
        </div>

        <!-- TAB 3: Test -->
        <div id="tab-test" class="section-content hidden">
            <div class="hologram-box p-6 rounded-lg min-h-[600px]">
                <div class="flex justify-between items-center mb-6 border-b border-gray-700 pb-4">
                    <h2 class="text-2xl neon-accent">–ü–û–≠–ú–ê –ú–ê–ó–ú“∞–ù–´ –ë–û–ô–´–ù–®–ê –¢–ï–°–¢: 35 –°“∞–†–ê“ö</h2>
                    <div class="text-xl">
                        –°“±—Ä–∞“õ: <span id="current-question-num" class="text-cyan-400">1</span> / 35
                    </div>
                </div>

                <div id="quiz-container">
                    <!-- Questions will be injected here via JS -->
                </div>

                <!-- Navigation Buttons -->
                <div class="flex justify-between mt-8">
                    <button id="prev-btn" class="bg-gray-800 px-6 py-2 rounded text-gray-400 hover:text-white disabled:opacity-50" onclick="playClick(); changeQuestion(-1)" disabled onmouseenter="playHover()">–ê–†–¢“ö–ê</button>
                    <button id="next-btn" class="bg-cyan-700 px-6 py-2 rounded text-white hover:bg-cyan-600" onclick="playClick(); changeQuestion(1)" onmouseenter="playHover()">–ö–ï–õ–ï–°–Ü</button>
                    <button id="finish-btn" class="bg-purple-700 px-6 py-2 rounded text-white hover:bg-purple-600 hidden" onclick="playClick(); finishQuiz()" onmouseenter="playHover()">–ê–Ø“ö–¢–ê–£</button>
                </div>
            </div>

            <!-- Result Modal -->
            <div id="result-modal" class="fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center hidden z-50">
                <div class="bg-[#1e1e32] border-2 border-neon-purple p-8 rounded-lg max-w-2xl w-full text-center relative">
                    <h2 class="text-4xl font-bold mb-4 text-white">–¢–ï–°–¢ –ù”ò–¢–ò–ñ–ï–°–Ü</h2>
                    <div class="text-6xl font-bold mb-6 text-cyan-400" id="score-display">0%</div>
                    <p class="text-xl mb-4" id="score-text"></p>
                    <div id="wrong-answers-list" class="text-left max-h-60 overflow-y-auto bg-gray-800 p-4 rounded mb-6 text-sm">
                        <!-- Wrong answers listed here -->
                    </div>
                    <button class="bg-cyan-600 px-8 py-3 rounded text-white font-bold hover:bg-cyan-500" onclick="playClick(); location.reload()" onmouseenter="playHover()">“ö–ê–ô–¢–ê –¢–ê–ü–°–´–†–£</button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer Ticker -->
    <div class="ticker-wrap">
        <div class="ticker">
            +++ ¬´–ï–†–õ–ï–†–î–Ü “∞–ú–´–¢–°–ê –î–ê –ï–õ, –ñ–ï–† “∞–ú–´–¢–ü–ê–°...¬ª +++ ¬´–¢“Æ–ô–Ü–ù–ù–Ü“¢ –¢–û“ö–°–ê–ù –¢“Æ–†–õ–Ü –®–ï–®–£–Ü –ë–ê–†¬ª +++ ¬´–ê“ö–´–ù–î–ê –ê–î–ê–ú–ó–ê–¢–¢–ê–ù –î–û–° –ë–û–õ–ú–ê–ô–î–´¬ª +++ ¬´–ê–õ–ê–®–¢–´“¢ –ê–†–£–ê“í–´¬ª +++ ¬´“ö–´–ó–´–õ –¢–Ü–õ, “ö–û–õ–´–ú –ï–ú–ï–°, –ö–Ü–°–ï–ù–î–ï–£–õ–Ü¬ª +++ ¬´–ë–ê–Ø–ù–ù–´“¢ –ë–ê–¢–´–†–õ–´“í–´ –ê–õ–ê–®“ö–ê –ê–Ø–ù¬ª +++
        </div>
    </div>

    <script>
        // --- Sound Effects Engine ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playTone(freq, type, duration, vol = 0.1) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            
            gainNode.gain.setValueAtTime(vol, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        function playHover() {
            // High pitched short blip
            playTone(800, 'sine', 0.05, 0.05);
        }

        function playClick() {
            // Mechanical click sound
            playTone(400, 'square', 0.1, 0.05);
            setTimeout(() => playTone(600, 'square', 0.05, 0.05), 50);
        }

        function playSuccess() {
            // Success chime
            playTone(600, 'sine', 0.1);
            setTimeout(() => playTone(800, 'sine', 0.1), 100);
            setTimeout(() => playTone(1200, 'sine', 0.3), 200);
        }

        // --- Clock Script ---
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('kk-KZ');
        }, 1000);

        // --- Tab Switching ---
        function switchTab(tabId) {
            // Hide all contents
            document.querySelectorAll('.section-content').forEach(el => el.classList.add('hidden'));
            // Remove active class from buttons
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            
            // Show selected
            document.getElementById('tab-' + tabId).classList.remove('hidden');
            document.getElementById('btn-' + tabId).classList.add('active');
        }

        // --- Quiz Data (35 Complex Questions) ---
        const quizData = [
            // 1-5: Matching (–°”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—É)
            { type: 'match', q: '–ö–µ–π—ñ–ø–∫–µ—Ä–ª–µ—Ä –º–µ–Ω –æ–ª–∞—Ä–¥—ã“£ —Å–∏–ø–∞—Ç—Ç–∞–º–∞–ª–∞—Ä—ã–Ω —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:', 
              pairs: [
                  {a: '–ê–±—ã–ª–∞–π', b: '–¢–∞“ì–¥—ã—Ä—ã–Ω –µ–ª —Ç–∞–ø—Å—ã—Ä“ì–∞–Ω –¥–∞–Ω–∞'},
                  {a: '–ë–∞—è–Ω', b: '–ñ–∞—É–¥—ã —Ç–∞–ª–∞–π –∫”©—Ä–≥–µ–Ω, –Ω–∞—Ä–∫–µ—Å–∫–µ–Ω'},
                  {a: '–ù–æ—è–Ω', b: '–ë”©–∫–µ–Ω–Ω—ñ“£ –∂–∞—Å –∂–æ–ª–±–∞—Ä—ã—Å –∂–µ—Ç–∫—ñ–Ω—à–µ–≥—ñ'},
                  {a: '“ö–∞–Ω–∞–π', b: '“ö–∞—Ä–∞—É—ã–ª–¥—ã“£ —à–µ—à–µ–Ω –±–∏—ñ'}
              ] 
            },
            { type: 'match', q: '–¢–µ“£–µ—É–ª–µ—Ä –º–µ–Ω –Ω—ã—Å–∞–Ω–¥–∞—Ä–¥—ã —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:', 
              pairs: [
                  {a: '–°–∞—Ä—ã–∞—Ä“õ–∞', b: '–°–∞—Ä—ã –¥–∞—Ä–∏—è'},
                  {a: '–ö”©–∫—à–µ—Ç–∞—É', b: '–°–∞—Ä—ã–∞—Ä“õ–∞–Ω—ã“£ –∞—Ä–∞–ª—ã'},
                  {a: '–û“õ–∂–µ—Ç–ø–µ—Å', b: '–ù–∞–π–∑–∞ “õ–∏—è ‚Äî “õ—ã—Ä–∞–Ω“ì–∞ “±—è'},
                  {a: '–ë—É—Ä–∞–±–∞–π', b: '–ñ–µ—Ä –µ—Ä–∫–µ—Å—ñ'}
              ] 
            },
            { type: 'match', q: '–ë–∞—Ç—ã—Ä–ª–∞—Ä –º–µ–Ω –æ–ª–∞—Ä–¥—ã“£ —Ä—É–ª–∞—Ä—ã–Ω/–∞–Ω—ã“õ—Ç–∞–º–∞—Å—ã–Ω —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä:', 
              pairs: [
                  {a: '–ë”©–≥–µ–Ω–±–∞–π', b: '“ö–∞—Ä—Ç “õ—ã—Ä–∞–Ω “ö–∞–Ω–∂—ã“ì–∞–ª—ã'},
                  {a: '–°–∞—Ä—ã–º–∞–ª–∞–π', b: '–ñ–∞—Å –±–∞—Ä—ã—Å –±”ô—Å–µ–Ω—Ç–∏—ñ–Ω'},
                  {a: '–ñ”ô–Ω—ñ–±–µ–∫', b: '–¢”ô–∫–∞–ø–ø–∞—Ä “ö–æ—à“õ–∞—Ä “±–ª—ã'},
                  {a: '–°—ã—Ä—ã–º–±–µ—Ç', b: '–°—ã—Ä—Ç—Ç–∞–Ω—ã –ë”ô—Å–µ–Ω—Ç–∏—ñ–Ω'}
              ] 
            },
            { type: 'match', q: '–°”©–π–ª–µ–º–¥–µ—Ä–¥—ñ –∫—ñ–º –∞–π—Ç“õ–∞–Ω?', 
              pairs: [
                  {a: '¬´“ö–∞–Ω–∞–π—ã–º, –æ–π—ã“£ —É–¥–∞–π, —Ç—ñ–ª—ñ“£ —à–∞—è–Ω¬ª', b: '–ê–±—ã–ª–∞–π —Ö–∞–Ω'},
                  {a: '¬´–ñ“Ø—Ä–µ–ª—ñ–∫, –∂–∞—É –±–∞—Å—ã–Ω–∞—Ä!¬ª', b: '–ë–∞—Ç—ã—Ä–ª–∞—Ä'},
                  {a: '¬´–ñ–∞—Ä–∞–π–¥—ã... –ë–∞—Ä, –∞“õ—Å–∞“õ–∞–ª. –û–π–ª–∞–Ω–∞—Ä–º—ã–∑¬ª', b: '–ë–∞—Ç—ã—Ä –ë–∞—è–Ω'},
                  {a: '¬´–ú–µ–Ω —Å–µ–Ω—ñ“£ —Å“Ø–π–≥–µ–Ω—ñ“£–µ —Å–µ–Ω–µ–º¬ª', b: '“ö–∞–ª–º–∞“õ “õ—ã–∑—ã'}
              ] 
            },
            { type: 'match', q: '–ü–æ—ç–º–∞–¥–∞“ì—ã –∂–µ—Ä-—Å—É –∞—Ç–∞—É–ª–∞—Ä—ã –º–µ–Ω —Å–∏–ø–∞—Ç—ã:', 
              pairs: [
                  {a: '–ñ–æ–ª–¥—ã”©–∑–µ–∫', b: '“ö“±—Ç—Å—ã–∑, –æ—Ç—Å—ã–∑, “õ–∞–Ω–¥—ã ”©–∑–µ–∫'},
                  {a: '–û–±–∞“ì–∞–Ω', b: '–£–∞“õ “õ–æ–Ω—ã—Å “õ—ã–ª“ì–∞–Ω ”©–∑–µ–Ω'},
                  {a: '–ë–∞–ª“õ–∞—à', b: '–ë–µ—Ç—ñ–Ω –º”ô“£–≥—ñ –º–µ—Ä—É–µ—Ä—Ç –∂–∞–ø“õ–∞–Ω'},
                  {a: '–Ü–ª–µ', b: '–ï–∫—ñ –∫”©–∑—ñ - “ö–∞—Ä–∞—Ç–∞–ª, –ê—è–≥”©–∑'}
              ] 
            },

            // 6-10: Ordering (–ü–æ–∑–∏—Ü–∏—è–Ω—ã –∞—É—ã—Å—Ç—ã—Ä—É)
            { type: 'order', q: '–û“õ–∏“ì–∞–ª–∞—Ä–¥—ã —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è–ª—ã“õ —Ä–µ—Ç–ø–µ–Ω –æ—Ä–Ω–∞–ª–∞—Å—Ç—ã—Ä—ã“£—ã–∑:', 
              items: ['–ê–±—ã–ª–∞–π–¥—ã“£ ¬´–ê—Ç—Ç–∞–Ω!¬ª –¥–µ–ø –∂–∞—Ä–ª—ã“õ –±–µ—Ä—É—ñ', '–ù–æ—è–Ω –º–µ–Ω “õ–∞–ª–º–∞“õ “õ—ã–∑—ã–Ω—ã“£ “õ–∞—à—É—ã', '–ë–∞—è–Ω–Ω—ã“£ –ñ–æ–ª–¥—ã”©–∑–µ–∫—Ç–µ —ñ–Ω—ñ—Å—ñ–Ω –∞—Ç—É—ã', '–ê–±—ã–ª–∞–π –º–µ–Ω –ë–∞—è–Ω–Ω—ã“£ –∫–µ“£–µ—Å—É—ñ', '–Ü–ª–µ –±–æ–π—ã–Ω–¥–∞“ì—ã “õ–∞–ª–º–∞“õ—Ç–∞—Ä–º–µ–Ω —Å–æ“ì—ã—Å'] },
            { type: 'order', q: '–ü–æ—ç–º–∞–Ω—ã“£ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è–ª—ã“õ “õ“±—Ä—ã–ª—ã–º—ã–Ω —Ä–µ—Ç—Ç–µ“£—ñ–∑:', 
              items: ['–ê“õ—ã–Ω–Ω—ã“£ –∫—ñ—Ä—ñ—Å–ø–µ —Ç–æ–ª“ì–∞—É—ã (–°–∞—Ä—ã–∞—Ä“õ–∞, –ö”©–∫—à–µ)', '–ë–∞—Ç—ã—Ä–ª–∞—Ä–¥—ã“£ –∫–µ“£–µ—Å—É—ñ, –ë–∞—è–Ω–Ω—ã“£ –∂–æ“õ—Ç—ã“ì—ã', '–ù–æ—è–Ω–Ω—ã“£ —Å–∞—Ç“õ—ã–Ω–¥—ã“ì—ã –∂–∞–π–ª—ã —Ö–∞–±–∞—Ä', '–ë–∞—è–Ω–Ω—ã“£ ”©–∫—ñ–Ω—ñ—à—ñ –º–µ–Ω –º–æ–Ω–æ–ª–æ–≥—ã', '–ë–∞—è–Ω–Ω—ã“£ “õ–∞–∑–∞ —Ç–∞–±—É—ã'] },
            { type: 'order', q: '–ù–æ—è–Ω –º–µ–Ω “õ—ã–∑–¥—ã“£ “õ–∞—à—É –ø—Ä–æ—Ü–µ—Å—ñ–Ω —Ä–µ—Ç—Ç–µ“£—ñ–∑:', 
              items: ['“ö—ã–∑–¥—ã“£ –ù–æ—è–Ω“ì–∞ —Å—ã—Ä—ã–Ω –∞—à—É—ã', '–°–∞–π–¥–∞“ì—ã –∫–µ–∑–¥–µ—Å—É', '“ö—ã–∑–¥—ã“£ –ë–∞—è–Ω —Ç—É—Ä–∞–ª—ã “õ–æ—Ä“õ—ã–Ω—ã—à—ã–Ω –∞–π—Ç—É—ã', '–£”ô–¥–µ –±–∞–π–ª–∞—Å—É', '–ñ—ã–ª“õ—ã–¥–∞–Ω –µ–∫—ñ –∂“Ø–π—Ä—ñ–∫ —Ç–∞“£–¥–∞–ø –∞–ª—É'] },
            { type: 'order', q: '–ë–∞—è–Ω–Ω—ã“£ —ñ—à–∫—ñ –∫“Ø–π—ñ–Ω—ñ“£ ”©–∑–≥–µ—Ä—É —Ä–µ—Ç—ñ:', 
              items: ['–•–∞–±–∞—Ä–¥—ã –µ—Å—Ç—ñ–ø —Å“±–ø-—Å“±—Ä –±–æ–ª—É', '–ê“õ—ã–ª–¥—ã“£ ”©–ª—É—ñ, –∞—à—É–¥—ã“£ –±–∏–ª–µ—É—ñ', '–°–∞–¥–∞“õ—Ç—ã —Ç–∞—Ä—Ç—É —Å”ô—Ç—ñ', '–ï—Å—ñ –∞—É“ì–∞–Ω–¥–∞–π “õ“±–ª–∞–ø —Ç“Ø—Å—É', '¬´–ù–µ —ñ—Å—Ç–µ–¥—ñ–º?¬ª –¥–µ–≥–µ–Ω ”©–∫—ñ–Ω—ñ—à'] },
            { type: 'order', q: '–ï–∫—ñ–Ω—à—ñ —Ç–∞—Ä–∞—É–¥–∞“ì—ã –æ“õ–∏“ì–∞–ª–∞—Ä —Ç—ñ–∑–±–µ–≥—ñ:', 
              items: ['“ö–æ–ª–¥—ã“£ –ë–∞–ª“õ–∞—à“õ–∞ –∂–µ—Ç—É—ñ', '“ö–∞–ª–º–∞“õ –µ–ª—à—ñ–ª–µ—Ä—ñ–Ω—ñ“£ –∫–µ–ª—É—ñ', '–ë–∞—è–Ω–Ω—ã“£ –∫–µ–ª—ñ—Å—ñ–º–≥–µ “õ–∞—Ä—Å—ã —à—ã“ì—É—ã', '¬´–®–∞“£–¥—ã –∂–æ–ª¬ª –∂–æ—Ä—ã“ì—ã', '“ö–∞–ª–º–∞“õ—Ç–∞—Ä–¥—ã“£ “ö—ã—Ç–∞–π“ì–∞ –∞—É—ã–ø –∫–µ—Ç—É—ñ'] },

            // 11-15: Multiple Correct Answers (–ë—ñ—Ä–Ω–µ—à–µ –¥“±—Ä—ã—Å –∂–∞—É–∞–ø)
            { type: 'multi', q: '–ë–∞—è–Ω–Ω—ã“£ –æ–±—Ä–∞–∑—ã–Ω –∞—à–∞—Ç—ã–Ω “õ–∞—Å–∏–µ—Ç—Ç–µ—Ä–¥—ñ –±–µ–ª–≥—ñ–ª–µ“£—ñ–∑:', 
              options: ['–ï–ª –Ω–∞–º—ã—Å—ã–Ω –±”ô—Ä—ñ–Ω–µ–Ω –∂–æ“ì–∞—Ä—ã “õ–æ—é', '–°–µ–∑—ñ–º–≥–µ –±–µ—Ä—ñ–ª–≥—ñ—à, “õ—ã–∑–±–∞', '“ö—É–ª—ã“õ –ø–µ–Ω –∞–π–ª–∞–∫–µ—Ä–ª—ñ–∫', '–ë–∞—É—ã—Ä–º–∞–ª–¥—ã“õ—Ç–∞–Ω –≥”©—Ä—ñ –ø–∞—Ä—ã–∑“ì–∞ –∞–¥–∞–ª–¥—ã“õ', '–î—ñ–Ω–∏ —Ñ–∞–Ω–∞—Ç–∏–∑–º'], correct: [0, 1, 3] },
            { type: 'multi', q: '–ü–æ—ç–º–∞–¥–∞ –∫–µ–∑–¥–µ—Å–µ—Ç—ñ–Ω —Ç–∞—Ä–∏—Ö–∏ —Ç“±–ª“ì–∞–ª–∞—Ä–¥—ã —Ç–∞–±—ã“£—ã–∑:', 
              options: ['–ê–±—ã–ª–∞–π —Ö–∞–Ω', '–ö–µ–Ω–µ—Å–∞—Ä—ã', '–ë“±“õ–∞—Ä –∂—ã—Ä–∞—É', '–¢”ô—Ç—Ç—ñ“õ–∞—Ä–∞ –∂—ã—Ä–∞—É', '–ú–∞—Ö–∞–º–±–µ—Ç'], correct: [0, 2, 3] },
            { type: 'multi', q: '“ö–∞–ª–º–∞“õ “õ—ã–∑—ã–Ω—ã“£ —Å–∏–ø–∞—Ç—Ç–∞–º–∞—Å—ã–Ω–∞ —Å”ô–π–∫–µ—Å –∫–µ–ª–µ—Ç—ñ–Ω —Ç—ñ—Ä–∫–µ—Å—Ç–µ—Ä:', 
              options: ['–û–Ω —Ç”©—Ä—Ç –∂–∞—Å—Ç–∞“ì—ã –±–∞–ª–¥—ã—Ä“ì–∞–Ω', '–ö”©–∑—ñ “õ—ã–ª–∏, –∂–∞—Å—ã “Ø–ª–∫–µ–Ω', '–¢—ñ—Å—ñ –º–µ—Ä—É–µ—Ä—Ç, —Å”©–∑—ñ —Å—É–¥–∞–π', '–ê“õ—ã–ª—Å—ã–∑, –∞“£“ì–∞–ª', '”®–∑ –µ–ª—ñ–Ω —Å“Ø–π–≥–µ–Ω –ø–∞—Ç—Ä–∏–æ—Ç'], correct: [0, 2, 4] },
            { type: 'multi', q: '–ê“õ—ã–Ω –ö”©–∫—à–µ—Ç–∞—É —Ç–∞–±–∏“ì–∞—Ç—ã–Ω —Å—É—Ä–µ—Ç—Ç–µ—É–¥–µ “õ–∞–Ω–¥–∞–π –∞“£–¥–∞—Ä–¥—ã –∞—Ç–∞–π–¥—ã?', 
              options: ['–ë”©—Ä—ñ', '–ú–∞—Ä–∞–ª', '–ü—ñ–ª', '–ë“±“ì—ã', '–ê—Ä—ã—Å—Ç–∞–Ω'], correct: [0, 1, 3] },
            { type: 'multi', q: '–ë–∞—è–Ω–Ω—ã“£ –ù–æ—è–Ω –º–µ–Ω “õ—ã–∑–¥—ã ”©–ª—Ç—ñ—Ä–≥–µ–Ω–Ω–µ–Ω –∫–µ–π—ñ–Ω–≥—ñ —ñ—Å-”ô—Ä–µ–∫–µ—Ç—Ç–µ—Ä—ñ:', 
              options: ['–û–ª–∞—Ä–¥—ã —Ç–∞—Å—Ç–∞–ø –∫–µ—Ç—ñ–ø “õ–∞–ª–¥—ã', '–ñ–∞–ø–∞–Ω –¥–∞–ª–∞–¥–∞ “Ø“£–≥—ñ—Ä “õ–∞–∑–¥—ã', '“ö–∞—Ä—É–ª–∞—Ä—ã–Ω “õ–æ—Å—ã–ø –∫”©–º–¥—ñ', '–ï–ª–≥–µ –º–∞“õ—Ç–∞–Ω—ã–ø –∞–π—Ç—Ç—ã', '–ë—ñ—Ä —Ç–æ–ø—ã—Ä–∞“õ –æ—Ä—Ç–∞—Å—ã–Ω–∞ —Ç“Ø—Å—ñ—Ä–º–µ–π –µ–∫–µ—É—ñ–Ω –±—ñ—Ä–≥–µ –∂–µ—Ä–ª–µ–¥—ñ'], correct: [1, 2, 4] },

            // 16-25: True/False (–ê“õ–∏“õ–∞—Ç/–ñ–∞–ª“ì–∞–Ω)
            { type: 'bool', q: '–ü–æ—ç–º–∞–¥–∞ –ë–∞—Ç—ã—Ä –ë–∞—è–Ω “õ–∞–ª–º–∞“õ “õ—ã–∑—ã–Ω–∞ ”©–∑—ñ “ì–∞—à—ã“õ –±–æ–ª“ì–∞–Ω.', correct: true },
            { type: 'bool', q: '–ù–æ—è–Ω –ë–∞—è–Ω–Ω—ã“£ —Ç—É“ì–∞–Ω “±–ª—ã –µ–¥—ñ.', correct: false }, // –Ü–Ω—ñ—Å—ñ
            { type: 'bool', q: '–ê–±—ã–ª–∞–π —Ö–∞–Ω “õ–∞–ª–º–∞“õ—Ç–∞—Ä–º–µ–Ω –±—ñ—Ç—ñ–º–≥–µ –∫–µ–ª—É–¥—ñ –±—ñ—Ä–¥–µ–Ω “õ–æ–ª–¥–∞–¥—ã.', correct: true }, // –ë–∞—Å—ã–Ω–¥–∞ “õ–æ–ª–¥–∞–¥—ã
            { type: 'bool', q: '–ë–∞—è–Ω –ù–æ—è–Ω–¥—ã –∞—Ç“õ–∞–Ω–¥–∞ –∫”©–∑—ñ–Ω –∂“±–º—ã–ø –∞—Ç—Ç—ã.', correct: true },
            { type: 'bool', q: '–û“õ–∏“ì–∞ ¬´–ê“õ—Ç–∞–±–∞–Ω —à“±–±—ã—Ä—ã–Ω–¥—ã¬ª –∑–∞–º–∞–Ω—ã–Ω–¥–∞ ”©—Ç—ñ–ø –∂–∞—Ç—ã—Ä.', correct: true },
            { type: 'bool', q: '“ö–∞–ª–º–∞“õ “õ—ã–∑—ã –ù–æ—è–Ω–¥—ã —Å“Ø–π–≥–µ–Ω–¥—ñ–∫—Ç–µ–Ω –µ–º–µ—Å, —Ç–µ–∫ –µ–ª—ñ–Ω–µ “õ–∞—à—É “Ø—à—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω–¥—ã.', correct: true },
            { type: 'bool', q: '–ñ–æ–ª–¥—ã”©–∑–µ–∫ - ”©—Ç–µ “õ“±–Ω–∞—Ä–ª—ã, —à”©–±—ñ —à“Ø–π–≥—ñ–Ω –∂–µ—Ä.', correct: false },
            { type: 'bool', q: '–ë–∞—è–Ω —Å–æ“ì—ã—Å—Ç–∞ –µ–º–µ—Å, “õ–∞—Ä—Ç—Ç—ã“õ—Ç–∞–Ω “õ–∞–π—Ç—ã—Å –±–æ–ª–¥—ã.', correct: false },
            { type: 'bool', q: '–ü–æ—ç–º–∞–¥–∞ ¬´–ê–ª–∞—à¬ª —Å”©–∑—ñ –∂–∏—ñ “õ–∞–π—Ç–∞–ª–∞–Ω–∞–¥—ã.', correct: true },
            { type: 'bool', q: '–ë–∞—è–Ω–Ω—ã“£ —Ä—É—ã - –£–∞“õ.', correct: true },

            // 26-35: Multiple Choice (–ö”©–ø —Ç–∞“£–¥–∞—É–ª—ã)
            { type: 'single', q: '–ü–æ—ç–º–∞–Ω—ã“£ –±—ñ—Ä—ñ–Ω—à—ñ —Ç–∞—Ä–∞—É—ã–Ω–¥–∞“ì—ã –ª–∏—Ä–∏–∫–∞–ª—ã“õ —à–µ–≥—ñ–Ω—ñ—Å –Ω–µ —Ç—É—Ä–∞–ª—ã?', options: ['–ú–∞—Ö–∞–±–±–∞—Ç –∂–∞–π–ª—ã', '–ê“õ—ã–Ω –º–µ–Ω ”©–º—ñ—Ä, —Ç–∞“ì–¥—ã—Ä –∂–∞–π–ª—ã', '–°–æ“ì—ã—Å ”©–Ω–µ—Ä—ñ –∂–∞–π–ª—ã', '–ë–∞–ª–∞ —Ç”ô—Ä–±–∏–µ—Å—ñ –∂–∞–π–ª—ã'], correct: 1 },
            { type: 'single', q: '¬´–ñ–∞–π —Ç–∞“õ—Ç–∞“õ –∂–∞–±–∞–π—ã–¥–∞–Ω –∂–æ–ª “õ–∞–ª“ì–∞–Ω–¥–∞, “ö–∞–Ω–¥—ã –æ—Ä –±–æ–ø –∞“õ—ã–Ω –∂–æ–ª—ã “õ–∞–ª–∞–¥—ã –¥–∞¬ª –¥–µ–≥–µ–Ω –∂–æ–ª–¥–∞—Ä–¥—ã“£ –º–∞“ì—ã–Ω–∞—Å—ã:', options: ['–ê“õ—ã–Ω –±–æ–ª—É –æ“£–∞–π', '–ê“õ—ã–Ω–Ω—ã“£ —Ç–∞“ì–¥—ã—Ä—ã –∞—É—ã—Ä, –∞–∑–∞–ø—Ç—ã', '–ê“õ—ã–Ω–¥–∞—Ä —Å–æ“ì—ã—Å“õ–∞ “õ–∞—Ç—ã—Å–ø–∞—É—ã –∫–µ—Ä–µ–∫', '–ê“õ—ã–Ω–¥–∞—Ä –±–∞–π –±–æ–ª–∞–¥—ã'], correct: 1 },
            { type: 'single', q: '–ë–∞—è–Ω –ù–æ—è–Ω –º–µ–Ω “õ—ã–∑–¥—ã “õ–∞–π –∂–µ—Ä–¥–µ “õ—É—ã–ø –∂–µ—Ç—Ç—ñ?', options: ['–Ü–ª–µ –±–æ–π—ã–Ω–¥–∞', '–ë—É—Ä–∞–±–∞–π–¥–∞', '–ñ–æ–ª–¥—ã”©–∑–µ–∫—Ç–µ', '–ë–∞–ª“õ–∞—à—Ç–∞'], correct: 2 },
            { type: 'single', q: '–ù–æ—è–Ω–Ω—ã“£ –∂–∞—Å—ã –Ω–µ—à–µ–¥–µ –µ–¥—ñ?', options: ['–ñ–∏—ã—Ä–º–∞–¥–∞', '–û–Ω –±–µ—Å—Ç–µ', '–û–Ω —Å–µ–≥—ñ–∑–¥–µ', '–û–Ω “Ø—à—Ç–µ'], correct: 1 },
            { type: 'single', q: '¬´–¢“Ø–π—ñ–Ω–Ω—ñ“£ —Ç–æ“õ—Å–∞–Ω —Ç“Ø—Ä–ª—ñ —à–µ—à—É—ñ –±–∞—Ä¬ª –¥–µ–≥–µ–Ω —Å”©–∑ “õ–∞–π –∫–µ–∑–¥–µ –∞–π—Ç—ã–ª–∞–¥—ã?', options: ['–ü–æ—ç–º–∞–Ω—ã“£ –±–∞—Å—ã–Ω–¥–∞', '–ë–∞—è–Ω ”©–ª–≥–µ–Ω–¥–µ', '–ù–æ—è–Ω “õ–∞—à“õ–∞–Ω–¥–∞', '–ê–±—ã–ª–∞–π —Å”©–π–ª–µ–≥–µ–Ω–¥–µ'], correct: 0 },
            { type: 'single', q: '–ë–∞—è–Ω “õ—ã–∑ –±–µ–Ω –ù–æ—è–Ω–¥—ã ”©–ª—Ç—ñ—Ä–≥–µ–Ω —Å–æ“£ –∫—ñ–º–≥–µ —Å–µ—Ä—Ç –±–µ—Ä–µ–¥—ñ?', options: ['–ê–±—ã–ª–∞–π“ì–∞', '–ê–ª–∞—à“õ–∞, –∂–∞—É“ì–∞ —à–∞–±—É“ì–∞', '–ê–Ω–∞—Å—ã–Ω–∞', '“ö“±–¥–∞–π“ì–∞'], correct: 1 },
            { type: 'single', q: '–ë–∞—Ç—ã—Ä –ë–∞—è–Ω–Ω—ã“£ —Å–æ“£“ì—ã —Å”©–∑—ñ –Ω–µ–º–µ—Å–µ ”ô—Ä–µ–∫–µ—Ç—ñ “õ–∞–Ω–¥–∞–π –±–æ–ª–¥—ã?', options: ['–ù–æ—è–Ω–Ω—ã“£ –∞—Ç—ã–Ω –∞—Ç–∞–¥—ã', '–ñ–∞–Ω–∞—Ç–∞–π–¥—ã “õ“±—à–∞“õ—Ç–∞–ø “õ“±–ª–∞–¥—ã', '–ê–±—ã–ª–∞–π–¥—ã “õ–∞—Ä“ì–∞–¥—ã', '“ö—ã–∑–¥—ã —Å“±—Ä–∞–¥—ã'], correct: 1 },
            { type: 'single', q: '“ö–∞–ª–º–∞“õ “õ—ã–∑—ã –ù–æ—è–Ω–¥—ã “õ–∞—à—É“ì–∞ “õ–∞–ª–∞–π –∫”©–Ω–¥—ñ—Ä–¥—ñ?', options: ['–ë–∞–π–ª—ã“õ —É”ô–¥–µ –µ—Ç—Ç—ñ', '–ê–Ω–∞—Å—ã–Ω—ã“£ –∞–Ω—Ç—ã–Ω –∞–π—Ç—ã–ø, –∂—ã–ª–∞–ø –∫”©–Ω–¥—ñ—Ä–¥—ñ', '“ö–æ—Ä“õ—ã—Ç—Ç—ã', '–ë–∞—è–Ω —Å–µ–Ω—ñ ”©–ª—Ç—ñ—Ä–µ–¥—ñ –¥–µ–ø –∞–ª–¥–∞–¥—ã'], correct: 1 },
            { type: 'single', q: '¬´“ö—É ”©–º—ñ—Ä “õ—ã–∑—ã“ì—ã –∂–æ“õ “õ–∞–∂—ã—Ç“õ–∞–Ω —Å–æ“£...¬ª –ë“±–ª –∫—ñ–º–Ω—ñ“£ –∫”©“£—ñ–ª-–∫“Ø–π—ñ?', options: ['–ù–æ—è–Ω–Ω—ã“£', '–ê–≤—Ç–æ—Ä–¥—ã“£ (–ú–∞“ì–∂–∞–Ω–Ω—ã“£)', '–ê–±—ã–ª–∞–π–¥—ã“£', '“ö–∞–ª–º–∞“õ “õ—ã–∑—ã–Ω—ã“£'], correct: 1 },
            { type: 'single', q: '¬´–ï—Ä–ª–µ—Ä–¥—ñ “±–º—ã—Ç—Å–∞ –¥–∞ –µ–ª, —Å–µ–ª “±–º—ã—Ç–ø–∞—Å...¬ª –¥–µ–≥–µ–Ω –∂–æ–ª–¥–∞—Ä–¥–∞“ì—ã –∏–¥–µ—è:', options: ['–¢–∞–±–∏“ì–∞—Ç –ø–µ–Ω –µ—Ä–ª—ñ–∫ “Ø–Ω–¥–µ—Å—Ç—ñ–≥—ñ, —Ç–∞—Ä–∏—Ö—Ç—ã“£ –º”ô“£–≥—ñ–ª—ñ–≥—ñ', '–°—É–¥—ã“£ “õ–∞—É—ñ–ø—Ç—ñ–ª—ñ–≥—ñ', '–ï–ª–¥—ñ“£ “±–º—ã—Ç—à–∞“õ—Ç—ã“ì—ã', '–ë–∞—è–Ω–Ω—ã“£ ”©–∫–ø–µ—Å—ñ'], correct: 0 }
        ];

        let currentQIndex = 0;
        let userAnswers = {};
        const quizContainer = document.getElementById('quiz-container');

        // --- Render Functions ---

        function renderQuestion() {
            quizContainer.innerHTML = '';
            const q = quizData[currentQIndex];
            document.getElementById('current-question-num').innerText = currentQIndex + 1;

            const card = document.createElement('div');
            card.className = 'question-card active';
            
            let html = `<h3 class="text-xl md:text-2xl font-bold mb-6 text-white">${q.q}</h3>`;

            if (q.type === 'single') {
                html += `<div class="space-y-3">`;
                q.options.forEach((opt, idx) => {
                    const checked = userAnswers[currentQIndex] === idx ? 'checked' : '';
                    html += `
                        <label onclick="playClick()" class="block bg-[#2a2a40] p-4 rounded hover:bg-[#32324a] cursor-pointer border border-gray-600 transition" onmouseenter="playHover()">
                            <input type="radio" name="q${currentQIndex}" value="${idx}" ${checked} class="mr-3 accent-cyan-400">
                            ${opt}
                        </label>`;
                });
                html += `</div>`;
            } else if (q.type === 'bool') {
                const checkedTrue = userAnswers[currentQIndex] === 'true' ? 'checked' : '';
                const checkedFalse = userAnswers[currentQIndex] === 'false' ? 'checked' : '';
                html += `
                    <div class="flex gap-6 mt-4">
                        <label onclick="playClick()" class="flex-1 bg-[#2a2a40] p-6 rounded text-center cursor-pointer border border-green-700 hover:bg-green-900" onmouseenter="playHover()">
                            <input type="radio" name="q${currentQIndex}" value="true" ${checkedTrue} class="mr-2 accent-green-500"> –ê“ö–ò“ö–ê–¢
                        </label>
                        <label onclick="playClick()" class="flex-1 bg-[#2a2a40] p-6 rounded text-center cursor-pointer border border-red-700 hover:bg-red-900" onmouseenter="playHover()">
                            <input type="radio" name="q${currentQIndex}" value="false" ${checkedFalse} class="mr-2 accent-red-500"> –ñ–ê–õ“í–ê–ù
                        </label>
                    </div>`;
            } else if (q.type === 'multi') {
                html += `<div class="space-y-3"><p class="text-sm text-cyan-300 mb-2">* –ë—ñ—Ä–Ω–µ—à–µ –∂–∞—É–∞–ø —Ç–∞“£–¥–∞“£—ã–∑</p>`;
                q.options.forEach((opt, idx) => {
                    const isChecked = userAnswers[currentQIndex] && userAnswers[currentQIndex].includes(idx);
                    html += `
                        <label onclick="playClick()" class="block bg-[#2a2a40] p-4 rounded hover:bg-[#32324a] cursor-pointer border border-gray-600 transition" onmouseenter="playHover()">
                            <input type="checkbox" name="q${currentQIndex}" value="${idx}" ${isChecked ? 'checked' : ''} class="mr-3 accent-purple-500">
                            ${opt}
                        </label>`;
                });
                html += `</div>`;
            } else if (q.type === 'match') {
                html += `<div class="grid grid-cols-2 gap-4">`;
                // Shuffling B side for display
                const bOptions = [...q.pairs].sort(() => Math.random() - 0.5);
                
                html += `<div class="space-y-4">`;
                q.pairs.forEach((pair, idx) => {
                    html += `<div class="bg-[#2a2a40] p-3 rounded border border-gray-600">${idx + 1}. ${pair.a}</div>`;
                });
                html += `</div><div class="space-y-4">`;
                bOptions.forEach((pair, idx) => {
                    // Create a mapping to find original pair index
                    const originalIndex = q.pairs.findIndex(p => p.b === pair.b);
                    html += `<div class="bg-[#2a2a40] p-3 rounded border border-gray-700 flex items-center">
                        <span class="mr-2 text-cyan-400 font-bold">[?]</span>
                        ${pair.b}
                         <select onclick="playClick()" class="ml-auto bg-black border border-gray-500 text-white rounded match-select" data-pair-index="${originalIndex}">
                            <option value="">–¢–∞“£–¥–∞</option>
                            ${q.pairs.map((_, i) => `<option value="${i+1}" ${userAnswers[currentQIndex] && userAnswers[currentQIndex][originalIndex] == (i+1) ? 'selected' : ''}>${i+1}</option>`).join('')}
                         </select>
                    </div>`;
                });
                html += `</div></div>`;
            } else if (q.type === 'order') {
                // Initialize order if not set
                if (!userAnswers[currentQIndex]) {
                    userAnswers[currentQIndex] = [...q.items].sort(() => Math.random() - 0.5);
                }
                const currentOrder = userAnswers[currentQIndex];

                html += `<div class="space-y-2 order-container">`;
                currentOrder.forEach((item, idx) => {
                    html += `
                        <div class="order-item rounded border border-gray-600" data-index="${idx}" onmouseenter="playHover()">
                            <span>${idx + 1}. ${item}</span>
                            <div>
                                <button class="order-btn" onclick="playClick(); moveOrder(${idx}, -1)">‚ñ≤</button>
                                <button class="order-btn" onclick="playClick(); moveOrder(${idx}, 1)">‚ñº</button>
                            </div>
                        </div>`;
                });
                html += `</div>`;
            }

            card.innerHTML = html;
            quizContainer.appendChild(card);

            // Save handlers
            setupInputListeners(q.type);
            updateNavButtons();
        }

        function setupInputListeners(type) {
            if (type === 'single') {
                document.querySelectorAll(`input[name="q${currentQIndex}"]`).forEach(input => {
                    input.addEventListener('change', (e) => {
                        userAnswers[currentQIndex] = parseInt(e.target.value);
                    });
                });
            } else if (type === 'bool') {
                document.querySelectorAll(`input[name="q${currentQIndex}"]`).forEach(input => {
                    input.addEventListener('change', (e) => {
                        userAnswers[currentQIndex] = e.target.value;
                    });
                });
            } else if (type === 'multi') {
                document.querySelectorAll(`input[name="q${currentQIndex}"]`).forEach(input => {
                    input.addEventListener('change', () => {
                        const checked = Array.from(document.querySelectorAll(`input[name="q${currentQIndex}"]:checked`)).map(cb => parseInt(cb.value));
                        userAnswers[currentQIndex] = checked;
                    });
                });
            } else if (type === 'match') {
                document.querySelectorAll('.match-select').forEach(select => {
                    select.addEventListener('change', () => {
                        if (!userAnswers[currentQIndex]) userAnswers[currentQIndex] = {};
                        userAnswers[currentQIndex][select.dataset.pairIndex] = select.value;
                    });
                });
            }
        }

        function moveOrder(index, direction) {
            const arr = userAnswers[currentQIndex];
            const newIndex = index + direction;
            if (newIndex >= 0 && newIndex < arr.length) {
                [arr[index], arr[newIndex]] = [arr[newIndex], arr[index]];
                renderQuestion();
            }
        }

        function changeQuestion(dir) {
            currentQIndex += dir;
            renderQuestion();
        }

        function updateNavButtons() {
            document.getElementById('prev-btn').disabled = currentQIndex === 0;
            if (currentQIndex === quizData.length - 1) {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.remove('hidden');
            } else {
                document.getElementById('next-btn').classList.remove('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }
        }

        function finishQuiz() {
            let score = 0;
            let total = quizData.length;
            let wrongHTML = '';

            quizData.forEach((q, idx) => {
                let isCorrect = false;
                let userAnswer = userAnswers[idx];

                if (q.type === 'single') {
                    if (userAnswer === q.correct) isCorrect = true;
                } else if (q.type === 'bool') {
                    if ((userAnswer === 'true' && q.correct) || (userAnswer === 'false' && !q.correct)) isCorrect = true;
                } else if (q.type === 'multi') {
                    if (userAnswer && userAnswer.length === q.correct.length && userAnswer.every(val => q.correct.includes(val))) isCorrect = true;
                } else if (q.type === 'match') {
                    if (userAnswer) {
                        const keys = Object.keys(userAnswer);
                        if (keys.length === q.pairs.length) {
                             let correctCount = 0;
                             for(let k in userAnswer) {
                                 if(parseInt(k) + 1 == parseInt(userAnswer[k])) correctCount++;
                             }
                             if(correctCount === q.pairs.length) isCorrect = true;
                        }
                    }
                } else if (q.type === 'order') {
                    if (JSON.stringify(userAnswer) === JSON.stringify(q.items)) isCorrect = true;
                }

                if (isCorrect) {
                    score++;
                } else {
                    wrongHTML += `<div class="mb-2 border-b border-gray-700 pb-2"><span class="text-red-400 font-bold">–°“±—Ä–∞“õ ${idx+1}:</span> ${q.q}</div>`;
                }
            });

            const percentage = Math.round((score / total) * 100);
            document.getElementById('score-display').innerText = percentage + '%';
            document.getElementById('score-text').innerText = `${total} —Å“±—Ä–∞“õ—Ç—ã“£ ${score} –¥“±—Ä—ã—Å.`;
            document.getElementById('wrong-answers-list').innerHTML = wrongHTML || '<div class="text-green-400">–ë–∞—Ä–ª—ã“ì—ã –¥“±—Ä—ã—Å! –ñ–∞—Ä–∞–π—Å—ã“£!</div>';
            
            if (percentage > 50) playSuccess();

            document.getElementById('result-modal').classList.remove('hidden');
        }

        // Initialize first question
        renderQuestion();

    </script>
</body>
</html>